<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
      <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MTAAS</title>
	<!-- BOOTSTRAP STYLES-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
     <!-- FONTAWESOME STYLES-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
     <!-- MORRIS CHART STYLES-->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css" />
        <!-- CUSTOM STYLES-->
    <link href="https://github.com/abhishekandhare/bootstrap-1/blob/master/custom.css" rel="stylesheet" />
     <!-- GOOGLE FONTS-->
   <link href='assets/css/font.css' rel='stylesheet' type='text/css' />
    
    <!--Style Added Here-->
    <style>
    body {
    font-family: 'Open Sans', sans-serif;
}

 #wrapper {
    width: 100%;
    background:#202020;
}

#page-wrapper {
    padding: 15px 15px;
    min-height: 600px;
    background:#F3F3F3;
   
}
#page-inner {
    width:100%;
    margin:10px 20px 10px 0px;
    background-color:#fff!important;
    padding:10px;
    min-height:1200px;
}

.text-center {
    text-align:center;
}
.no-boder {
    border:1px solid #f3f3f3;
}
h2 {
    color: #f00;
}
h4 {
    padding-top:10px;
}
.square-btn-adjust {
    border: 0px solid transparent; 
   -webkit-border-radius: 0px;
-moz-border-radius: 0px;
border-radius: 0px;

}
p {
    font-size:16px;
    line-height:25px;
    padding-top:20px;
}
.panel-back {
    background-color:#F8F8F8;

}
   .noti-box {
min-height: 100px;
padding: 20px;
}

    .noti-box .icon-box {
display: block;
float: left;
margin: 0 15px 10px 0;
width: 70px;
height: 70px;
line-height: 75px;
vertical-align: middle;
text-align: center;
font-size: 40px;
}
.text-box p{
    margin: 0 0 3px;
}
.main-text {
    font-size: 25px;
    font-weight:600;
}
.set-icon {
    -webkit-border-radius: 50px;
-moz-border-radius: 50px;
border-radius: 50px;

}
    .bg-color-green {
background-color: #00CE6F;
color: #fff;
}
 .bg-color-blue {
background-color: #A95DF0;
color: #fff;
}
  .bg-color-red {
background-color: #DB0630;
color: #fff;
}
  .bg-color-brown {
background-color: #B94A00;
color: #fff;
}


 .icon-box-right {
display: block;
float: right;
margin: 0 15px 10px 0;
width: 70px;
height: 70px;
line-height: 75px;
vertical-align: middle;
text-align: center;
font-size: 40px;
}

 .main-temp-back {
background: #8702A8;
color: #FFFFFF;
font-size: 16px;
font-weight: 300;
text-align: center;
}
 .main-temp-back .text-temp {
font-size: 40px;
}
.back-dash {
    padding:20px;
    font-size:20px;
    font-weight:500;
      -webkit-border-radius: 0px;
-moz-border-radius: 0px;
border-radius: 0px;
background-color:#2EA7EB;
color:#fff;
}
    .back-dash p {
        padding-top:16px;
        font-size:13px;
        color:#fff;
        line-height:25px;
        text-align:justify;
    }
    .back-footer-green {
    background-color: #009B50;
    border-top: 0px solid #fff;
}
     .back-footer-red {
    background-color: #AF0000;
    border-top: 0px solid #fff;
}
     .color-bottom-txt {
   color: #000;
font-size: 16px;
line-height: 30px;
}
     /*CHAT PANEL*/
 .chat-panel .panel-body {
height: 450px;
overflow-y: scroll;
}
 .chat-box {
margin: 0;
padding: 0;
list-style: none;
}
 .chat-box li {
margin-bottom: 15px;
padding-bottom: 5px;
border-bottom: 1px dotted #808080;
}
 .chat-box li.left .chat-body {
margin-left: 90px;
}
 .chat-box li .chat-body p {
margin: 0;
color: #8d8888;
}
.chat-img>img {
    margin-left:20px;
}

.user-image {
    margin: 25px auto;
-webkit-border-radius: 10px;
-moz-border-radius: 10px;
border-radius: 10px;
max-height:170px;
max-width:170px;
}

.navbar-cls-top .navbar-brand {
	color: #fff;
background: #C90000;
width: 260px;
text-align: center;
height: 60px;
font-size: 30px;
font-weight: 700;
}
.active-menu {
    background-color:#C90000!important;
}

.arrow {
    float: right;
}

.fa.arrow:before {
    content: "\f104";
}

.active > a > .fa.arrow:before {
    content: "\f107";
}


.nav-second-level li,
.nav-third-level li {
    border-bottom: none !important;
}

.nav-second-level li a {
    padding-left: 37px;
}

.nav-third-level li a {
    padding-left: 55px;
}
.sidebar-collapse , .sidebar-collapse .nav{
	background:none;
}
.sidebar-collapse .nav {
	padding:0;
}
.sidebar-collapse .nav > li > a {
	color:#fff;
	background:#202020;
	text-shadow:none;
	
}
.sidebar-collapse > .nav > li > a {
	padding:15px 10px;
}
.sidebar-collapse > .nav > li {
	border-bottom: 1px solid rgba(107, 108, 109, 0.19);
}
.sidebar-collapse .nav > li > a:hover,
.sidebar-collapse .nav > li > a:focus {
	
	background:#0A0A0A;
	outline:0;
}

.nav-second-level > li > a:before ,
.nav-third-level > li > a:before {
	content:"";
	display:block;
	position:absolute;
	left:20px;
	width:15px;
	height:1px;
	background:#ff0000;
	top:20px;
}
.nav-second-level > li > a:after,
.nav-third-level > li > a:after {
	content:"";
	display:block;
	position:absolute;
	left:20px;
	width:1px;
	height:100%;
	background:#ff0000;
	top:0px;
	z-index:10;
}
.nav-second-level  > li:last-child > a:after,
.nav-third-level  > li:last-child > a:after {
	height:50%;
}
.nav-third-level > li > a:after,
.nav-third-level > li > a:before  {
	left:40px;
}
.navbar-side {
	border:none;
	background-color: #202020;
	
}
.navbar-cls-top {
	background:#4D4D4D;
	border-bottom:none;
	
}
.navbar-cls-top .navbar-brand:hover {

background: #C90000;
color:#fff;

}

.navbar-default {
border:0px solid black;
     
}
.navbar-header {
    background: #A70303;
}
.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
background-color: #B40101;
}
.navbar-default .navbar-toggle {
border-color: #fff;
}

.navbar-default .navbar-toggle .icon-bar {
background-color: #FFF;
}
.nav > li > a > i {
    margin-right:10px;
}

.btn-circle {
width: 50px;
height: 50px;
padding: 6px 0;
 -webkit-border-radius: 25px;
-moz-border-radius: 25px;
border-radius: 25px;
text-align: center;
font-size: 12px;
line-height: 1.428571429;
}


 
 @media(min-width:768px) {
     #page-wrapper{
               margin: 0 0 0 260px;
        padding: 15px 30px;
        min-height: 1200px;
		
    }
	
	
    .navbar-side {
        z-index: 1;
        position: absolute;
        width: 260px;
    }

   .navbar {
 border-radius: 0px; 
}
   
}



    </style>
    
    
    <style>
    
    </style>
    <!--Style ends here-->
</head>
<body>
    <div id="wrapper" ng-app="MtaaS" data-ng-controller="MtaaS1">
        <nav class="navbar navbar-default navbar-cls-top " role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">ESHOP</a> 
            </div>
  <div style="color: white;
padding: 15px 50px 5px 50px;
float: right;
font-size: 16px;"> Last access : 30 May 2014 &nbsp; <a type="submit" align="right" class="btn btn-success" ng-click="logoutsession()" role="button" >Logout</a> </div>
        </nav>   
           <!-- /. NAV TOP  -->
                <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu">
					<li class="text-center"><span class="icon-box bg-color-brown set-icon"><i class="fa fa-user fa-5x"></i></span><i class=""></i></li>
                    <li><a class="active" href="#" ng-click = "home()"><i class="fa fa-dashboard fa-3x"></i> Dashboard</a></li>
                    <li><a href="#" ng-click = "searchsupplier()"><i class="fa fa-desktop fa-3x"></i> Project Creation</a></li>
                    <li><a href="#" ng-click = "reports()"><i class="fa fa-qrcode fa-3x"></i> Reports</a></li>
					<li><a href="#" ng-click = "employees()"><i class="fa fa-table fa-3x"></i>Employees</a></li>
                    <li><a href="#" ng-click = "products()"><i class="fa fa-edit fa-3x"></i> Products </a></li>				
                </ul>
               
            </div>
            
        </nav>  
        <!-- /. NAV SIDE  -->
        <div id="page-wrapper" >
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                     <h2>Employee Dashboard</h2> 
                        <div class="form-group" ng-repeat="user in appmanagerusername">
                        <h5>Welcome {{user.name}} , Love to see you back. </h5>
                        </div>
                    </div>
                </div>              
                 <!-- /. ROW  -->
                  <hr />
                <div class="row">

                    <div class="col-md-3 col-sm-6 col-xs-6">           
			<div class="panel panel-back noti-box">
                <span class="icon-box bg-color-green set-icon">
                    <i class="fa fa-bars"></i>
                </span>
                <div class="text-box" ng-repeat="ordercount in getordercount">
                    <p class="main-text">{{ordercount.count}} Orders</p>
                    <p class="text-muted">Orders Placed</p>
                </div>
             </div>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6"> 
            <div class="panel panel-back noti-box">
                <span class="icon-box bg-color-blue set-icon">
                    <i class="fa fa-bell"></i>
                </span>
                <div class="text-box" >
                    <p class="main-text">30 Tasks</p>
                    <p class="text-muted">Registered Testers</p>
                </div>
                </div>
            </div>

            <div class="col-md-3 col-sm-6 col-xs-6">            
			<div class="panel panel-back noti-box">
                <span class="icon-box bg-color-brown set-icon">
                    <i class="fa fa-rocket"></i>
                </span>
                <div class="text-box" >
                    <p class="main-text">3 Orders</p>
                    <p class="text-muted">Total Bugs Found</p>
                </div>
             </div>
		     </div>
                        		   

			</div>
            
             
                 <!-- /. ROW  -->
                
            <!-- Available Products Details -->
                             <hr />
<div ng-show="proddet">
                <h2>Available Products Details:</h2>
                <div class="jumbotron" method="post">
                             <div class="panel-body">
                            <div class="dataTable_wrapper">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                    <thead>
                                        <tr>
                                            <th>Product Code</th>
                                            <th>Product Name</th>
                                            <th>Product Line</th>
                                            <th>Quantity</th>
                                            <th>Buy Price</th>
                                            <th>MRP</th>
                                        </tr>
                                    </thead>
                                    <tbody>
									<tr ng-repeat="product in products1">
                                            <td>{{product.productCode}}</td>
                                            <td>{{product.productName}}</td>
                                            <td>{{product.productLine}}</td>
                                            <td>{{product.quantityInStock}}</td>
                                            <td>{{product.buyPrice}}</td>
                                            <td>{{product.MSRP}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                    </div>

    </div>  </div>
            <!-- Available Product Details ends here -->
                
                
                <!-- Available Employee Details -->
                             <hr />
                             <div ng-show="employeedetails">
                <h2>Employee Details:</h2>
                <div class="jumbotron" method="post">
                             <div class="panel-body">
                            <div class="dataTable_wrapper">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                    <thead>
                                        <tr>
                                            <th>Employee Number</th>
                                            <th>First Name</th>
                                            <th>Last Name</th>
                                            <th>Email</th>
                                            <th>Job Title</th>
                                        </tr>
                                    </thead>
                                    <tbody>
									<tr ng-repeat="employee in employees1">
                                            <td>{{employee.employeeNumber}}</td>
                                            <td>{{employee.firstName}}</td>
                                            <td>{{employee.lastName}}</td>
                                            <td>{{employee.email}}</td>
                                            <td>{{employee.jobTitle}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                    </div>

    </div>    </div>
            <!-- Available Emloyee Details ends here -->
            
                        <!-- Available Project Details -->
                             <hr />
<div ng-show="orderdet">
                <h2>Available Orders Details:</h2>
                <div class="jumbotron" method="post">
                             <div class="panel-body">
                            <div class="dataTable_wrapper">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                    <thead>
                                        <tr>
                                            <th>Order Number</th>
                                            <th>Order Date</th>
                                            <th>Required Date</th>
                                            <th>Shipped Date</th>
                                            <th>Status</th>
                                            <th>Customer Number</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
									<tr ng-repeat="order in orders">
                                            <td>{{order.orderNumber}}</td>
                                            <td>{{order.orderDate | limitTo:10}}</td>
                                            <td>{{order.requiredDate | limitTo:10}}</td>
                                            <td>{{order.shippedDate | limitTo:10}}</td>
                                            <td>{{order.status}}</td>
                                            <td>{{order.customerNumber}}</td>
                                            <td><button class="btn btn-danger" ng-click="moreOrderDetails(order.orderNumber)">Order Details</button></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                    </div>

    </div>  </div>
            <!-- Available Orders Details ends here -->
            
            <!-- More Order Details -->
                             <hr />
                             <div ng-show="ordersdetails">
                <h2>More Order Details:</h2>
                <div class="jumbotron" method="post">
                             <div class="panel-body">
                            <div class="dataTable_wrapper">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                    <thead>
                                        <tr>
                                            <th>Order Number</th>
                                            <th>Product Name</th>
                                            <th>Product Line</th>
                                            <th>Buy Price</th>
                                            <th>Quantity Ordered</th>
                                            <th>Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
									<tr ng-repeat="orderd in orderDet">
                                            <td>{{orderd.orderNumber}}</td>
                                            <td>{{orderd.productName}}</td>
                                            <td>{{orderd.productLine}}</td>
                                            <td>{{orderd.buyPrice}}</td>
                                            <td>{{orderd.quantityOrdered}}</td>
                                    		<td>{{orderd.buyPrice*orderd.quantityOrdered | limitTo:7}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                    </div>

    </div>    </div>
            <!-- More Order Details ends here -->
    </div>
             <!-- /. PAGE INNER  -->
            </div>
         <!-- /. PAGE WRAPPER  -->
        </div>
     <!-- /. WRAPPER  -->
    <!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
    <!-- JQUERY SCRIPTS -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
      <!-- BOOTSTRAP SCRIPTS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <!-- METISMENU SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/metisMenu/2.2.0/metisMenu.js"></script>
     <!-- MORRIS CHART SCRIPTS -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
      <!-- CUSTOM SCRIPTS -->
    <script src="assets/js/custom.js"></script>
    
   <script>
   var app=angular.module('MtaaS', []);
 app.controller('MtaaS1', ['$scope', '$http', '$window', function ( $scope,$http,$window)
 {

$scope.orderdet = true;
$scope.ordersdetails = false;
$scope.proddet = false;
$scope.employeedetails = false;
     //Get App Manager Details   
                      $http({
			      	  method: 'GET',
			      	  url: '/appmanagerusername'
			      	  
			        }).
			          then(function(response) {
			         //alert(response.data.result);
			         $scope.appmanagerusername = angular.fromJson(response.data.result);
                     $scope.appmanagerid = $scope.appmanagerusername[0].appmanagerid;
                     $scope.appmanagercompany = $scope.appmanagerusername[0].name;
			          });
            
     
     
$http({
  method: 'GET',
  url: '/homeusername'
  
}).
  then(function(response) {
 //alert(response.data.result);
 $scope.loginusername = angular.fromJson(response.data.result);
  });

//get order details
$http({
        method: 'GET',
        url: '/orderdetails',
        }).success(function(response){
       		//alert(JSON.stringify(response));
       		$scope.orders= JSON.parse(response.result);
    }).error(function(error){
        alert("ERROR VIEWING PENDING CUSTOMER REQUEST");
    });
    
//get count of projects
$http({
  method: 'GET',
  url: '/getordercountemp'
}).success(function(response){
  $scope.getordercount= JSON.parse(response.result);
 }).error(function(error){
    alert("ERROR VIEWING PENDING CUSTOMER REQUEST");
});
			           
     
     
     $scope.products = function() {
     alert("in product details");
     $scope.proddet = true;
     $scope.employeedetails = false;
     $scope.orderdet = false;
     $scope.ordersdetails = false;
   		    	$http({
   		            method: 'GET',
   		            url: '/products',
   		            }).success(function(response){
   		           		//alert(JSON.stringify(response));
   		           		$scope.products1= JSON.parse(response.result);
   		        }).error(function(error){
   		            alert("ERROR VIEWING PENDING CUSTOMER REQUEST");
   		        });
   		    }; 
   		// $scope.searchprojectdetails(); 
     
     $scope.employees = function() {
          $scope.proddet = false;
	      $scope.employeedetails = true;
	      $scope.orderdet = false;
	      $scope.ordersdetails = false;

   		    	$http({
   		            method: 'GET',
   		            url: '/employees',
   		            }).success(function(response){
   		           		//alert(JSON.stringify(response));
   		           		$scope.employees1= JSON.parse(response.result);
   		        }).error(function(error){
   		            alert("ERROR VIEWING PENDING CUSTOMER REQUEST");
   		        });
   		    }; 
     
	$http({
 method: 'GET',
 url: '/checklogin'
 }).
 then(function(response)
 {
 	if(response.data.status===200)
 	{
 alert("already logged in");
 //	$window.location.href='/';
 	}
 });
 
   
   
   
  $scope.logoutsession= function () {
 //alert("in logout session");
 $http({
 method: 'GET',
 url: '/logoutsession'
 }).
then(function(response)
 {
 	if(response.data.status===300)
 	{
 	console.log("destroy session");
 	}else
 	{
 	$window.location.href='/';
 	}
 });
 } 
		 
		 
					   $scope.addsupplier = function (){
			   $window.location.href = '/addsupplier';
			}
			  $scope.editsupplier = function (){
			   $window.location.href = '/editsupplier';
			}
			  $scope.searchsupplier = function (){
			   $window.location.href = '/searchsupplier';
			}
			 $scope.processsupplier = function (){
			   $window.location.href = '/processsupplier';
			}
             $scope.reports = function (){
			   $window.location.href = '/reports';
			}
			
			$scope.moreOrderDetails = function(ordNum){
			$scope.ordersdetails = true;
			$scope.proddet = false;
	      	$scope.employeedetails = false;
	      	$scope.orderdet = false;
			alert("in order");
			$http({
   		            method: 'POST',
   		            url: '/moreorderdetails',
   		            data: {"order_number":ordNum}
   		            }).success(function(response){
   		           		//alert(JSON.stringify(response));
   		           		$scope.orderDet= JSON.parse(response.result);
   		        }).error(function(error){
   		            alert("ERROR VIEWING PENDING CUSTOMER REQUEST");
   		        });
   		        
			}
			
			$scope.home = function(){
				$scope.ordersdetails = false;
				$scope.proddet = false;
	      		$scope.employeedetails = false;
	      		$scope.orderdet = true;
	      	}
			
			
}]);
</script>

</body>
</html>
